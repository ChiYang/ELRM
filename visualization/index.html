<!DOCTYPE HTML>
<html>
	<!-- 
		The MIT License (MIT)
		Copyright (c) 2014 Chi Yang

		Permission is hereby granted, free of charge, to any person obtaining a copy
		of this software and associated documentation files (the "Software"), to deal
		in the Software without restriction, including without limitation the rights
		to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
		copies of the Software, and to permit persons to whom the Software is
		furnished to do so, subject to the following conditions:

		The above copyright notice and this permission notice shall be included in all
		copies or substantial portions of the Software.

		THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
		IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
		FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
		AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
		LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
		OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
		SOFTWARE.
		-->
	<head>
		<title>ELRM visualization</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script data-main="scripts/main" src="scripts/require.js"></script>
		<link href='http://fonts.googleapis.com/css?family=Patrick+Hand+SC' rel='stylesheet' type='text/css'>
		<link href="./css/jquery-ui.min.css" rel="stylesheet">
		<link href="./css/jquery-ui.theme.min.css" rel="stylesheet">
		<link href='./css/main.css' rel="stylesheet">

	</head>
	<body style='margin:0 auto;width:1080px;padding:10px;font-family:Patrick Hand SC, cursive;'>
		<div id='leftContainer'>
			<div id="drop_zone">Drop files here</div>
			<div style='width:186px;text-align:center;'>
				<span style='margin:0 auto;font-size:14pt;'>File lists</span>
			</div>
			<div id="lists"></div>
			<div id='leftControlBar'>
				<div style='position:absolute;top: 50%;padding:5px;font-weight:bold;'><</div>
			</div>
		</div>
		<div id="head" style="height:50px;text-align:center;font-size:20pt;font-family:'Patrick Hand SC', cursive;">ELRM Visualization Tool</div>
		<div id='controls' style='border-top:1px solid black;border-bottom:1px solid black;margin-left:20px;'>
			<div id='toggleControls'style='width:100%;height:15px;background-color:#ddd;line-height:15px;font-size:8pt;text-align:center;cursor:pointer;'>click here to toggle controls</div>
			</div>
			<div id='controlElement' style='display:none;width:100%;padding:0 5px;'>
				<fieldset>
					<legend><b>Sequence investigator</b></legend>
					Test sequence: <input type='text' id='testSeq'></input>
				</fieldset>
				<fieldset>
					<legend><b>control panel</b></legend>
					<span style='float:left;'>Scaling factor for drawing associations:&nbsp</span><div id="yFactorSlider" style='width:250px;float:left;'></div>&nbsp<span id="yFactor"></span>
				</fieldset>
			</div>
		</div>
		<div id='Info' style='position:relative;margin-left:20px;font-family:Arial;padding:10px 30px;'>
			<h3>Instructions</h3>
			<div id="tabs">
				<ul>
					<li><a href="#tabs-1">Basics</a></li>
					<li><a href="#tabs-2">Advanced tips</a></li>
				</ul>
				<div id="tabs-1">
					<ol>
						<li>To input files</li><p>Please drag the ELRM output files onto the top-left box with dashed border. You can drag and drop your files at any time. File names will be appended in the list below the drop zone. Multiple files are allowed.<br><img src='./images/Step1.png' height=200px></img></p>
						<li>To view a model</li>
						<p>Click one of the files and the graphical representation will be shown in the web page. If you want to change another model, click the left gray bar to toggle the file list.<br><img src='./images/Step2.png' height=300px></img></p>
						<li>To see the regressed coefficients</li>
						<P>In the graphical representation of ELRM, each box represents a single-base features and the links between boxes are association features. You may see the regressed coefficients by clicking the box. A tooltip will show the coefficients of the corresponding single-base feature and the involved associations. You may close the tooltip by clicking it. <br><img src='./images/Step3.png' width=500px></img></P>
					</ol>
				</div>
				<div id="tabs-2">
					You may click the gray bar on the top to toggle the control interface.
					<ol>
						<li>Adjust the scaling factor for association links</li>For some models, you may see a very complex association features. The links overlap with each other with the default scaling factor. Increasing the factor will help you to see the details.<br>
						<img src='./images/Yscale.png' style='width:100%;'></img>
						<li>A quick test for interested sequences, one at a time.</li>
						You may also test an interested sequence. The sequence must be of the same length with the ELRM and contain only ATCG characters (case insensitive). Given the sequence, the tool will highlight used features and give a response probability. Currently, click the box to see the coefficients will exit this test mode.<br>
						<img src='./images/testSeq.png' style='width:100%;'></img>
					</ol>
				</div>
			</div>
		</div>
		<div id='canvas' style='margin-left:20px;display:none;'></div>
		
		<span style='float:right;font-family:Patrick Hand SC, cursive;'>Copyright &copy; 2015 by Chi Yang</span>
	</body>
</html>
